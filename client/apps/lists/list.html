<template name="list">
    <div class="board-wrapper disabled-all-widgets">
        <div class="board-wrapper disabled-all-widgets">
            <div class="board-header clearfix js-board-header">
                <a href="#" class="board-header-btn board-header-btn-name js-rename-board {{#unless edit }}no-edit{{/unless}}" title="Rename the board.">
                    <span class="board-header-btn-text"> {{ board.title }} </span> 
                </a>
                <a href="#" class="board-header-btn perms-btn js-change-vis {{#unless edit }}no-edit{{/unless}}" id="permission-level" title="This board is private.  Only people added to the board can view and edit it.">
                    <span class="board-header-btn-icon icon-sm icon-{{#if board.private }}private{{ else }}public{{/if}}"></span> 
                    <span class="board-header-btn-text">{{#if board.private }}Private{{ else }}Public{{/if}}</span> 
                </a>
            </div>
        </div> 
        <div class="board-canvas" style="height: 383px;"> 
            <div id="board" class="clearfix">
                <div class="list-area-wrapper fancy-scrollbar"> 
                    <div class="list-area  js-list-sortable  js-no-higher-edits clearfix ui-sortable" style="width: 1872px;"> 
                        {{#each all}}
                            <div class="list" data-id="{{ _id }}">
                                {{> list_header }}
                                <div class="list-cards fancy-scrollbar clearfix js-list-cards js-sortable ui-sortable">
                                    {{#each cards _id }}
                                        <div class="list-card js-member-droppable ui-droppable" data-id="{{ _id }}">
                                            {{#if edit }}
                                                <span class="list-card-operation icon-sm icon-menu dark-hover js-card-menu"></span>
                                            {{/if}}
                                            <div class="list-card-details clearfix"> 
                                                <a href="#" class="list-card-title clear js-card-name">{{ title }}</a>    
                                            </div>  
                                        </div>
                                    {{/each}}
                                    {{> card_add_form }}
                                </div>
                                {{#if edit }}
                                    <a class="open-card-composer js-open-card-composer" href="#">Add a card…</a>
                                {{/if}}
                            </div>
                        {{/each}}
                        {{#if edit }}
                            {{> add_list }}
                        {{/if}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="add_list">
    <div class="list add-list idle">
        <form id="ListAddForm"> 
            <span class="placeholder js-open-add-list">Add a list…</span> 
            <input type="text" class="list-name-input" name="name" placeholder="Add a list…" autocomplete="off"> 
            <div class="edit-controls keep clearfix"> 
                <input type="submit" class="primary confirm js-save-edit" value="Save"> 
                <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a> 
            </div> 
        </form> 
    </div>
</template>

<template name="list_header">
    <div class="list-header js-list-header non-empty clearfix editable" attr="name"> 
        <h2 class="list-header-name hide-on-edit js-list-name current">{{ title }}</h2>
        <div class="edit edit-heavy clearfix"> 
            <textarea type="text" class="field single-line" style="height: 66px;">{{ title }}</textarea>      
            <div class="edit-controls clearfix"> 
                <input type="submit" class="primary confirm js-save-edit" value="Save"> 
                <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a>
            </div>
        </div>
        {{#if edit }}
            <a href="#" class="list-header-menu-icon icon-sm icon-menu dark-hover js-open-list-menu"></a>
        {{/if}}
    </div>
</template>

<template name="card_add_form">
    <div class="CardAddForm dn" data-id="{{ _id }}">
        <div class="card-composer">
            <div class="list-card js-composer" style="padding-bottom: 0px;"> 
                <div class="list-card-labels clearfix js-list-card-composer-labels"></div> 
                <textarea class="list-card-composer-textarea js-card-title card-title"></textarea> 
                <div class="list-card-members js-list-card-composer-members"></div> 
            </div> 
            <div class="cc-controls clearfix"> 
                <input type="submit" class="primary confirm js-add-card" value="Add">   
            </div> 
        </div>
    </div>
</template>

<template name="card_menu">
    <ul class="pop-over-list">  
        <li>
            <a class="js-change-card-members" href="#">Members…</a> 
        </li>    
        <li> 
            <a class="js-subscribe highlight-icon" href="#">Subscribe</a> 
        </li>  
    </ul> 
    <hr>
    <ul class="pop-over-list"> 
        <li> 
            <a class="js-archive-card" href="#">Archive</a> 
        </li> 
    </ul>
</template>

<template name="list_menu"> 
    <ul class="pop-over-list">  
        <li>
            <a class="js-add-card" href="#">Add Card…</a>
        </li>  
        <li>
            <a class="js-move-list" href="#">Move List…</a>
        </li>  
        <li>
            <a class="highlight-icon js-list-subscribe" href="#">Subscribe</a>
        </li> 
    </ul>
    <hr>
    <ul class="pop-over-list"> 
        <li>
            <a class="js-close-list" href="#">Archive This List</a>
        </li> 
    </ul>
</template>
